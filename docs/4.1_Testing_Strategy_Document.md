# 4.1 Testing Strategy Document

---

## 1. Unit Testing Approach
*   **Backend (Python):** `pytest` framework used for testing `rex.py` logic (VAD thresholds, parsing tools).
*   **Frontend (React):** `vitest` (planned) for component rendering tests.

## 2. Integration Testing
*   **Audio Pipeline:** Verified by playing standard audio samples (Reference: "Harvard Sentences") into the microphone and checking transcription accuracy.
*   **Tool Execution:** Automated script `tests/test_tools.py` can be driven to execute benign commands (`whoami`, `dir`) to verify shell integration.

## 3. Voice & Latency Testing
*   **Metric:** Time-to-First-Token (TTFT). Measured from "Silence Detected" to "First Audio Chunk Received".
*   **Acceptance Criteria:** Must be < 1.0s on broadband connection.
*   **Noise Function:** tested in quiet office (30dB) and background noise (50dB) environments.

## 4. Failure Simulations
*   **Network Cut:** Physically disconnecting LAN/WiFi during query -> Expected: "I am unable to connect" voice error.
*   **Crash Recovery:** Killing `server.exe` process -> Expected: Electron app should detect exit and attempt restart (or show error dialog).

## 5. Regression Strategy
*   **Before Release:**
    1.  Full clean install on a fresh VM (Windows 10 & 11).
    2.  Verification of "Critical Path": Wake Word -> Intent -> Tool Exec -> Voice Response.
    3.  Verification of "New Features" (e.g., Pulse Core visualizer).
