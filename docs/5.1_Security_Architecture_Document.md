# 5.1 Security Architecture Document

---

## 1. Privilege Model
*   **Least Privilege:** R.E.X. runs with Standard User privileges by default. It cannot modify System files (C:\Windows\System32) or Registry HKLM keys unless the user elevates the process.
*   **User Confirmation:** Critical actions (like `shutdown`) ideally require verbal confirmation (Configurable).

## 2. Input Validation
*   **Sanitization:** All Tool arguments from the LLM are sanitized. For `cmd` execution, we do NOT simply pass strings to `os.system`. We use `subprocess.run(["command", "arg"])` to avoid shell injection vulnerabilities where possible.
*   **Allowlist:** Only specific, pre-defined tools (`launch_app`, `media_control`) are exposed to the LLM.

## 3. Sandboxing
*   **Current State:** No strict OS-level sandbox. The Python backend has full access to the User's files permissions.
*   **Future Roadmap:** Windows App Container isolation for the File System access.

## 4. Secure Defaults
*   **Microphone:** Default OFF. R.E.X. does not record until the "Start" event is triggered.
*   **Networking:** Inbound ports are blocked (localhost only).
*   **Updates:** Auto-update integrity checks are planned (currently manual only).
